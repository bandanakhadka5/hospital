(function(a){a.fn.nepaliDatePicker=function(){this.each(function(){var b=a(this).attr("id");a(this).addClass("ndp-nepali-calendar");a(this).attr("onfocus","showCalendarBox('"+b+"')")});a("body").append(calendarDivString);a(".ndp-nepali-calendar, #ndp-nepali-box").hover(function(){mouse_is_inside=true},function(){mouse_is_inside=false});a("html").mouseup(function(){if(!mouse_is_inside){hideCalendarBox()}})}})(jQuery);var mouse_is_inside=false;var calendarDivString='<div id="ndp-nepali-box" class="ndp-corner-all" style="display:none">';calendarDivString+='<span id="ndp-target-id" style="display:none"></span>';calendarDivString+='<div class="ndp-corner-all ndp-header">';calendarDivString+='<a href="javascript:void(0)" id="prev" title="Previous Month" class="ndp-prev"></a>';calendarDivString+='<a href="javascript:void(0)" id="next" title="Next Month" class="ndp-next"></a>';calendarDivString+='<span id="currentMonth"></span>';calendarDivString+="</div>";calendarDivString+='<div id="npd-table-div">';calendarDivString+="<table>";calendarDivString+='<tr class="ndp-days">';calendarDivString+="<th>आ</th>";calendarDivString+="<th>सो</th>";calendarDivString+="<th>मं</th>";calendarDivString+="<th>बु</th>";calendarDivString+="<th>बि</th>";calendarDivString+="<th>शु</th>";calendarDivString+="<th>श</th>";calendarDivString+="</tr>";calendarDivString+="</table>";calendarDivString+="</div>";calendarDivString+="</div>";function showCalendarBox(c){var b=$("#"+c).val();$("#ndp-target-id").html(c);var a=$("#"+c).offset();$("#ndp-nepali-box").css("top",a.top+$("#"+c).outerHeight());$("#ndp-nepali-box").css("left",a.left);showCalendar(b)}function setSelectedDay(b){var a=$("#ndp-target-id").html();$("#"+a).val(b);hideCalendarBox()}function showCalendar(b){$("#ndp-nepali-box table").find("tr:gt(0)").remove();if(b==""){$("#ndp-nepali-box table").append(getDateTable(""))}else{$("#ndp-nepali-box table").append(getDateTable(b))}if($("#ndp-nepali-box").css("display")=="block"){$("#ndp-nepali-box").hide()}$("#ndp-nepali-box").fadeIn(100);var a=false}function getDateTable(b){if(b==""){var c=getNepaliDate();var d=getMonthParameters(c);var a=getDateRows(d[0],d[1],d[2],d[3],d[4]);return a}else{var d=getMonthParameters(b);var a=getDateRows(d[0],d[1],d[2],d[3],d[4]);return a}}function getMonthParameters(e){var k=e.split("-");var g=k[0];var q=k[1];$("#currentMonth").html(getNepaliMonth(q-1)+"&nbsp;"+englishNo2Nep(g));nYear=pYear=g;nMonth=(parseInt(q,10)+1);if(nMonth>12){nYear++;nMonth="01"}pMonth=(parseInt(q,10)-1);if(pMonth<1){pYear--;pMonth="12"}$("#prev").attr("onclick","showCalendar('"+pYear+"-"+pMonth+"-01')");$("#next").attr("onclick","showCalendar('"+nYear+"-"+nMonth+"-01')");var a=k[2];var n=numberOfBsDays(g,q-1);var m=new NepaliDateConverter();var c=q+"/1/"+g;var b=m.bs2ad(c);var o=b.split("-");var h=o[0];var l=o[1];var j=o[2];var p=new Date(h,l-1,j);var f=p.getDay();return new Array(f,n,g,q,a)}function getDateRows(c,n,g,l,j){var o=getNepaliDate();var h=o.split("-");var e=h[0];var p=get2DigitNo(h[1]);var a=get2DigitNo(h[2]);var m="";for(var d=0;d<c+n;d++){if((d%7)==0){m+="<tr>"}var b=(d-c+1);var f=g.toString()+"-"+get2DigitNo(l)+"-"+get2DigitNo(b);var k="";if(get2DigitNo(l)==p&&a==get2DigitNo(b)){k="ndp-selected"}else{if(b==j){k="ndp-current"}else{k="ndp-date"}}if(d<c){m+="<td></td>\n"}else{m+="<td class='"+k+"'>";m+="<a href='#' onclick=\"setSelectedDay('"+f+"')\">"+englishNo2Nep(b)+"</a>";m+="</td>\n"}if((d%7)==6){m+="</tr>\n"}}return m}function hideCalendarBox(){$("#ndp-nepali-box").fadeOut(100)}function get2DigitNo(a){a=parseInt(a,10);if(a<10){return"0"+a.toString()}else{return a.toString()}}function getMonths(){var a=new Array("January","February","March","April","May","June","July","August","September","October","November","December");return a}function getNepaliMonths(){var a=new Array("Baisakh","Jestha","Ashar","Shrawan","Bhadra","Ashoj","Kartik","Mangsir","Poush","Magh","Falgun","Chaitra");return a}function getNepaliDaysShort(){var a=new Array("आ","सो","मं","बु","बि","शु","श");return a}function getNepaliMonth(b){b=parseInt(b,10);var a=new Array("बैशाख","जेठ","अषाढ","श्रावण","भाद्र","आश्विन","कार्तिक","मङ्सिर","पौष","माघ","फाल्गुन","चैत्र");return a[b]}function getCurrentDayName(){var b=new Date();var a=b.getDay();var c=new Array(7);c[0]="Sunday";c[1]="Monday";c[2]="Tuesday";c[3]="Wednesday";c[4]="Thursday";c[5]="Friday";c[6]="Saturday";return c[a]}function getDayFromDate(e){var b=e.split("-");var c=b[2];var g=b[1];var f=b[0];var a=new Date(f,g-1,c);var d=a.getDay();var h=new Array("Sun","Mon","Tue","Wed","Thu","Fri","Sat");return h[d]}function numberOfBsDays(a,b){var c=new NepaliDateConverter();return c.bs[a][b]}function numberOfDays(a,b){var c=new Date(a,b,0);return c.getDate()}function getNepaliDate(){var a=new NepaliDateConverter();return a.ad2bs(getDateInNo("/"))}function getDateInWords(){var a=getMonths();var c=new Date();var b=c.getDate();var e=c.getMonth()+1;var f=c.getYear();var d=(f<1000)?f+1900:f;return b+" "+a[e]+", "+d}function getDateInNo(e){var b=new Date();var a=b.getDate();var d=b.getMonth()+1;var c=b.getFullYear();return d+e+a+e+c}function getAdDateInWords(e){var b=getMonths();var a=e.split("-");var c=a[2];var f=a[1];var d=a[0];return c+" "+b[f]+", "+d}function getNepaliDateInWords(c){var b=getNepaliMonths();var a=c.split("-");var d=a[2];var f=a[1];var e=a[0];return d+" "+b[f]+", "+e}function getCurrentYear(){var a=new Date();var b=a.getFullYear();return b}function getCurrentMonth(){var a=new Date();var b=a.getMonth()+1;return b}function getCurrentDay(){var b=new Date();var a=b.getDate();return a}function makeArray(){for(i=0;i<makeArray.arguments.length;i++){this[i+1]=makeArray.arguments[i]}}function englishNo2Nep(c){c=c.toString();var b="";for(var a=0;a<c.length;a++){b+=convertNos(c[a])}return b}function convertNos(a){switch(a){case"०":return 0;break;case"१":return 1;break;case"२":return 2;break;case"३":return 3;break;case"४":return 4;break;case"५":return 5;break;case"६":return 6;break;case"७":return 7;break;case"८":return 8;break;case"९":return 9;break;case"0":return"०";break;case"1":return"१";break;case"2":return"२";break;case"3":return"३";break;case"4":return"४";break;case"5":return"५";break;case"6":return"६";break;case"7":return"७";break;case"8":return"८";break;case"9":return"९";break}}arraySum=function(c){for(var b=0,a=c.length;a;b+=c[--a]){}return b};function NepaliDateConverter(){this.bs_date_eq="09/17/2000";this.ad_date_eq="01/01/1944";this.bs=new Array();this.bs[2000]=new Array(30,32,31,32,31,30,30,30,29,30,29,31);this.bs[2001]=new Array(31,31,32,31,31,31,30,29,30,29,30,30);this.bs[2002]=new Array(31,31,32,32,31,30,30,29,30,29,30,30);this.bs[2003]=new Array(31,32,31,32,31,30,30,30,29,29,30,31);this.bs[2004]=new Array(30,32,31,32,31,30,30,30,29,30,29,31);this.bs[2005]=new Array(31,31,32,31,31,31,30,29,30,29,30,30);this.bs[2006]=new Array(31,31,32,32,31,30,30,29,30,29,30,30);this.bs[2007]=new Array(31,32,31,32,31,30,30,30,29,29,30,31);this.bs[2008]=new Array(31,31,31,32,31,31,29,30,30,29,29,31);this.bs[2009]=new Array(31,31,32,31,31,31,30,29,30,29,30,30);this.bs[2010]=new Array(31,31,32,32,31,30,30,29,30,29,30,30);this.bs[2011]=new Array(31,32,31,32,31,30,30,30,29,29,30,31);this.bs[2012]=new Array(31,31,31,32,31,31,29,30,30,29,30,30);this.bs[2013]=new Array(31,31,32,31,31,31,30,29,30,29,30,30);this.bs[2014]=new Array(31,31,32,32,31,30,30,29,30,29,30,30);this.bs[2015]=new Array(31,32,31,32,31,30,30,30,29,29,30,31);this.bs[2016]=new Array(31,31,31,32,31,31,29,30,30,29,30,30);this.bs[2017]=new Array(31,31,32,31,31,31,30,29,30,29,30,30);this.bs[2018]=new Array(31,32,31,32,31,30,30,29,30,29,30,30);this.bs[2019]=new Array(31,32,31,32,31,30,30,30,29,30,29,31);this.bs[2020]=new Array(31,31,31,32,31,31,30,29,30,29,30,30);this.bs[2021]=new Array(31,31,32,31,31,31,30,29,30,29,30,30);this.bs[2022]=new Array(31,32,31,32,31,30,30,30,29,29,30,30);this.bs[2023]=new Array(31,32,31,32,31,30,30,30,29,30,29,31);this.bs[2024]=new Array(31,31,31,32,31,31,30,29,30,29,30,30);this.bs[2025]=new Array(31,31,32,31,31,31,30,29,30,29,30,30);this.bs[2026]=new Array(31,32,31,32,31,30,30,30,29,29,30,31);this.bs[2027]=new Array(30,32,31,32,31,30,30,30,29,30,29,31);this.bs[2028]=new Array(31,31,32,31,31,31,30,29,30,29,30,30);this.bs[2029]=new Array(31,31,32,31,32,30,30,29,30,29,30,30);this.bs[2030]=new Array(31,32,31,32,31,30,30,30,29,29,30,31);this.bs[2031]=new Array(30,32,31,32,31,30,30,30,29,30,29,31);this.bs[2032]=new Array(31,31,32,31,31,31,30,29,30,29,30,30);this.bs[2033]=new Array(31,31,32,32,31,30,30,29,30,29,30,30);this.bs[2034]=new Array(31,32,31,32,31,30,30,30,29,29,30,31);this.bs[2035]=new Array(30,32,31,32,31,31,29,30,30,29,29,31);this.bs[2036]=new Array(31,31,32,31,31,31,30,29,30,29,30,30);this.bs[2037]=new Array(31,31,32,32,31,30,30,29,30,29,30,30);this.bs[2038]=new Array(31,32,31,32,31,30,30,30,29,29,30,31);this.bs[2039]=new Array(31,31,31,32,31,31,29,30,30,29,30,30);this.bs[2040]=new Array(31,31,32,31,31,31,30,29,30,29,30,30);this.bs[2041]=new Array(31,31,32,32,31,30,30,29,30,29,30,30);this.bs[2042]=new Array(31,32,31,32,31,30,30,30,29,29,30,31);this.bs[2043]=new Array(31,31,31,32,31,31,29,30,30,29,30,30);this.bs[2044]=new Array(31,31,32,31,31,31,30,29,30,29,30,30);this.bs[2045]=new Array(31,32,31,32,31,30,30,29,30,29,30,30);this.bs[2046]=new Array(31,32,31,32,31,30,30,30,29,29,30,31);this.bs[2047]=new Array(31,31,31,32,31,31,30,29,30,29,30,30);this.bs[2048]=new Array(31,31,32,31,31,31,30,29,30,29,30,30);this.bs[2049]=new Array(31,32,31,32,31,30,30,30,29,29,30,30);this.bs[2050]=new Array(31,32,31,32,31,30,30,30,29,30,29,31);this.bs[2051]=new Array(31,31,31,32,31,31,30,29,30,29,30,30);this.bs[2052]=new Array(31,31,32,31,31,31,30,29,30,29,30,30);this.bs[2053]=new Array(31,32,31,32,31,30,30,30,29,29,30,30);this.bs[2054]=new Array(31,32,31,32,31,30,30,30,29,30,29,31);this.bs[2055]=new Array(31,31,32,31,31,31,30,29,30,29,30,30);this.bs[2056]=new Array(31,31,32,31,32,30,30,29,30,29,30,30);this.bs[2057]=new Array(31,32,31,32,31,30,30,30,29,29,30,31);this.bs[2058]=new Array(30,32,31,32,31,30,30,30,29,30,29,31);this.bs[2059]=new Array(31,31,32,31,31,31,30,29,30,29,30,30);this.bs[2060]=new Array(31,31,32,32,31,30,30,29,30,29,30,30);this.bs[2061]=new Array(31,32,31,32,31,30,30,30,29,29,30,31);this.bs[2062]=new Array(30,32,31,32,31,31,29,30,29,30,29,31);this.bs[2063]=new Array(31,31,32,31,31,31,30,29,30,29,30,30);this.bs[2064]=new Array(31,31,32,32,31,30,30,29,30,29,30,30);this.bs[2065]=new Array(31,32,31,32,31,30,30,30,29,29,30,31);this.bs[2066]=new Array(31,31,31,32,31,31,29,30,30,29,29,31);this.bs[2067]=new Array(31,31,32,31,31,31,30,29,30,29,30,30);this.bs[2068]=new Array(31,31,32,32,31,30,30,29,30,29,30,30);this.bs[2069]=new Array(31,32,31,32,31,30,30,30,29,29,30,31);this.bs[2070]=new Array(31,31,31,32,31,31,29,30,30,29,30,30);this.bs[2071]=new Array(31,31,32,31,31,31,30,29,30,29,30,30);this.bs[2072]=new Array(31,32,31,32,31,30,30,29,30,29,30,30);this.bs[2073]=new Array(31,32,31,32,31,30,30,30,29,29,30,31);this.bs[2074]=new Array(31,31,31,32,31,31,30,29,30,29,30,30);this.bs[2075]=new Array(31,31,32,31,31,31,30,29,30,29,30,30);this.bs[2076]=new Array(31,32,31,32,31,30,30,30,29,29,30,30);this.bs[2077]=new Array(31,32,31,32,31,30,30,30,29,30,29,31);this.bs[2078]=new Array(31,31,31,32,31,31,30,29,30,29,30,30);this.bs[2079]=new Array(31,31,32,31,31,31,30,29,30,29,30,30);this.bs[2080]=new Array(31,32,31,32,31,30,30,30,29,29,30,30);this.bs[2081]=new Array(31,31,32,32,31,30,30,30,29,30,30,30);this.bs[2082]=new Array(30,32,31,32,31,30,30,30,29,30,30,30);this.bs[2083]=new Array(31,31,32,31,31,30,30,30,29,30,30,30);this.bs[2084]=new Array(31,31,32,31,31,30,30,30,29,30,30,30);this.bs[2085]=new Array(31,32,31,32,30,31,30,30,29,30,30,30);this.bs[2086]=new Array(30,32,31,32,31,30,30,30,29,30,30,30);this.bs[2087]=new Array(31,31,32,31,31,31,30,30,29,30,30,30);this.bs[2088]=new Array(30,31,32,32,30,31,30,30,29,30,30,30);this.bs[2089]=new Array(30,32,31,32,31,30,30,30,29,30,30,30);this.bs[2090]=new Array(30,32,31,32,31,30,30,30,29,30,30,30);this.count_ad_days=count_ad_days;this.count_bs_days=count_bs_days;this.add_bs_days=add_bs_days;this.add_ad_days=add_ad_days;this.bs2ad=bs2ad;this.ad2bs=ad2bs}function count_ad_days(c,h){var b=1000*60*60*24;var a=c.split("/");var g=h.split("/");a[2]=Number(a[2]);a[1]=Number(a[1]);a[0]=Number(a[0]);g[2]=Number(g[2]);g[1]=Number(g[1]);g[0]=Number(g[0]);var f=new Date(a[2],(a[0]-1),a[1]);var e=new Date(g[2],(g[0]-1),g[1]);var d=Math.ceil((e.getTime()-f.getTime())/(b));return d}function count_bs_days(d,a){var j=d.split("/");var f=a.split("/");var m=Number(j[2]);var h=Number(j[0]);var b=Number(j[1]);var e=Number(f[2]);var k=Number(f[0]);var g=Number(f[1]);var l=0;var c=0;for(c=m;c<=e;c++){l+=arraySum(this.bs[c])}for(c=0;c<h;c++){l-=this.bs[m][c]}l+=this.bs[m][12-1];for(c=k-1;c<12;c++){l-=this.bs[e][c]}l-=b+1;l+=g-1;return l}function add_ad_days(a,b){var c=new Date(a);c.setDate(c.getDate()+b);return c.getFullYear()+"-"+(c.getMonth()+1)+"-"+c.getDate()}function add_bs_days(b,d){var a=b.split("/");var c=Number(a[2]);var e=Number(a[0]);var f=Number(a[1]);f+=d;while(f>this.bs[c][e-1]){f-=this.bs[c][e-1];e++;if(e>12){e=1;c++}}return c+"-"+e+"-"+f}function bs2ad(a){days_count=this.count_bs_days(this.bs_date_eq,a);return this.add_ad_days(this.ad_date_eq,days_count)}function ad2bs(a){days_count=this.count_ad_days(this.ad_date_eq,a);return this.add_bs_days(this.bs_date_eq,days_count)};